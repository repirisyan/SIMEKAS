import{d as M,K as O,T as k,o as u,c as $,w as n,f as x,a as e,b as o,g as i,l as D,p as P,u as l,s as W,e as w,h as K,F as q,t as m,y as G,O as I}from"./app-f422ae6e.js";import{_ as J}from"./AppLayout-c2fc9be4.js";import{a as S}from"./DialogModal-620f2138.js";import{_ as T}from"./SecondaryButton-47fa9c58.js";import{_ as A}from"./PrimaryButton-a7b1ef83.js";import{_ as Q,a as R}from"./Toaster-a2915740.js";import{_ as f,a as h}from"./TextInput-ed5c7d4a.js";import{_ as g}from"./InputLabel-1ece27e4.js";import{_ as X}from"./DangerButton-173af0ab.js";import"./_plugin-vue_export-helper-c27b6911.js";const Y=e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Client ",-1),Z={class:"p-12"},ee={class:"card w-auto bg-white dark:bg-gray-800 shadow-xl"},ae={class:"card-body"},se={class:"card-title flex overflow-x-auto"},le={class:"join w-full sm:justify-end"},te=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1),oe=["href"],ne=["href"],re=["onClick"],ie=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),de=[ie],me=["onClick"],ce=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),ue=[ce],pe={class:"grid grid-cols-1 gap-3 px-8"},_e={class:"col-span-6 sm:col-span-4"},fe={class:"col-span-6 sm:col-span-4"},he={class:"col-span-6 sm:col-span-4"},ge={class:"col-span-6 sm:col-span-4"},ve={class:"col-span-6 sm:col-span-4"},we={key:0,class:"loading loading-spinner loading-xs"},ye={class:"text-black dark:text-white"},be={key:0,class:"loading loading-spinner loading-xs"},Ee={__name:"Client",props:{clients:Object},setup(j){const p=j,c=M(!1),_=M(!1),v=O();let y=null,C=null;const a=k({name:null,company_name:null,client_email:null,whatsapp_number:null,address:null}),b=k({search:null}),r=k({client_id:"",client_name:""}),V=(d,t=null)=>{c.value=!0,y=d,C=t,d=="Modal Ubah"&&G.get("client/"+t+"/edit").then(s=>{a.name=s.data.name,a.company_name=s.data.company_name,a.client_email=s.data.client_email,a.whatsapp_number=s.data.whatsapp_number,a.address=s.data.address}).catch(s=>{v.props.flash.message=s})},E=()=>{c.value=!1,a.reset(),a.clearErrors()},H=()=>{y=="Modal Tambah"?a.post(route("client.store"),{preserveScroll:!0,onSuccess:()=>{c.value=!1,a.reset(),a.clearErrors(),setTimeout(()=>{v.props.flash.message=null},2e3)}}):a.patch(route("client.update",C),{preserveScroll:!0,onSuccess:()=>{c.value=!1,a.reset(),a.clearErrors(),setTimeout(()=>{v.props.flash.message=null},2e3)}})},N=(d,t)=>{_.value=!0,r.client_id=d,r.client_name=t},z=()=>{_.value=!1,r.reset(),r.clearErrors()},B=()=>{r.delete(route("client.destroy",r.client_id),{preserveScroll:!0,onSuccess:()=>{_.value=!1,r.reset(),r.clearErrors(),setTimeout(()=>{v.props.flash.message=null},2e3)}})},U=()=>{I.visit("client",{data:{search:b.search},replace:!0,preserveState:!0,only:["clients"]})};let L=Object.keys(p.clients.data).length==0;return(d,t)=>(u(),$(J,{title:"Client"},{header:n(()=>[Y]),default:n(()=>[d.$page.props.flash.message!=null?(u(),$(Q,{key:0,response:d.$page.props.flash.message},null,8,["response"])):x("",!0),e("div",Z,[e("div",ee,[e("div",ae,[e("div",se,[o(A,{class:"mr-2",onClick:t[0]||(t[0]=s=>V("Modal Tambah"))},{default:n(()=>[i("TambahÂ + ")]),_:1}),e("div",le,[e("div",null,[e("div",null,[D(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>l(b).search=s),class:"input input-bordered join-item w-42",placeholder:"Cari Nama Client"},null,512),[[P,l(b).search,void 0,{lazy:!0}]])])]),e("div",{class:"indicator"},[e("button",{onClick:U,class:"btn join-item"},[i(" Cari "),te])])])]),o(R,{theads:["Nama","Nama Perusahaan","Email","WhatsApp","Alamat","Aksi"],current_page:p.clients.current_page,next_page:p.clients.next_page_url,prev_page:d.route("client.index")+"?page="+(p.clients.current_page-1)},W({_:2},[l(L)==!1?{name:"content",fn:n(()=>[(u(!0),w(q,null,K(p.clients.data,s=>(u(),w("tr",{key:s.id,class:"hover"},[e("td",null,m(s.name),1),e("td",null,m(s.company_name),1),e("td",null,[e("a",{class:"hover:text-blue-500",href:"mailto:"+s.client_email},m(s.client_email),9,oe)]),e("td",null,[e("a",{class:"hover:text-green-500",href:"https://wa.me/"+s.whatsapp_number},m(s.whatsapp_number),9,ne)]),e("td",null,m(s.address),1),e("td",null,[e("button",{class:"mr-3 text-warning",onClick:F=>V("Modal Ubah",s.id)},de,8,re),e("button",{class:"text-error",onClick:F=>N(s.id,s.name)},ue,8,me)])]))),128))]),key:"0"}:{name:"empty",fn:n(()=>[e("tr",{class:"text-center"},[e("td",{colspan:"6"},"Tidak ada data")])]),key:"1"}]),1032,["current_page","next_page","prev_page"])])])]),o(S,{show:c.value,onClose:t[7]||(t[7]=s=>c.value=!1)},{title:n(()=>[i(m(l(y)),1)]),content:n(()=>[e("div",pe,[e("div",_e,[o(g,{for:"name",value:"Nama"}),o(f,{id:"name",modelValue:l(a).name,"onUpdate:modelValue":t[2]||(t[2]=s=>l(a).name=s),modelModifiers:{lazy:!0},type:"text",class:"mt-1 block w-full",autocomplete:"name",readonly:l(a).processing},null,8,["modelValue","readonly"]),o(h,{class:"mt-2",message:l(a).errors.name},null,8,["message"])]),e("div",fe,[o(g,{for:"company_name",value:"Nama Perusahaan"}),o(f,{id:"company_name",modelValue:l(a).company_name,"onUpdate:modelValue":t[3]||(t[3]=s=>l(a).company_name=s),modelModifiers:{lazy:!0},type:"text",class:"mt-1 block w-full",autocomplete:"company_name",readonly:l(a).processing},null,8,["modelValue","readonly"]),o(h,{class:"mt-2",message:l(a).errors.company_name},null,8,["message"])]),e("div",he,[o(g,{for:"email",value:"E-mail"}),o(f,{id:"email",modelValue:l(a).client_email,"onUpdate:modelValue":t[4]||(t[4]=s=>l(a).client_email=s),modelModifiers:{lazy:!0},type:"text",class:"mt-1 block w-full",autocomplete:"email",readonly:l(a).processing},null,8,["modelValue","readonly"]),o(h,{class:"mt-2",message:l(a).errors.client_email},null,8,["message"])]),e("div",ge,[o(g,{for:"whatsapp_number",value:"WhatsApp"}),o(f,{id:"whatsapp_number",modelValue:l(a).whatsapp_number,"onUpdate:modelValue":t[5]||(t[5]=s=>l(a).whatsapp_number=s),modelModifiers:{lazy:!0},type:"text",class:"mt-1 block w-full",autocomplete:"whatsapp_number",readonly:l(a).processing},null,8,["modelValue","readonly"]),o(h,{class:"mt-2",message:l(a).errors.whatsapp_number},null,8,["message"])]),e("div",ve,[o(g,{for:"address",value:"Alamat"}),o(f,{id:"address",modelValue:l(a).address,"onUpdate:modelValue":t[6]||(t[6]=s=>l(a).address=s),modelModifiers:{lazy:!0},type:"text",class:"mt-1 block w-full",autocomplete:"address",readonly:l(a).processing},null,8,["modelValue","readonly"]),o(h,{class:"mt-2",message:l(a).errors.address},null,8,["message"])])])]),footer:n(()=>[o(A,{disabled:l(a).processing,onClick:H,class:"mr-2"},{default:n(()=>[l(a).processing?(u(),w("span",we)):x("",!0),i(" Simpan")]),_:1},8,["disabled"]),o(T,{type:"button",disabled:l(a).processing,onClick:E},{default:n(()=>[i(" Tutup ")]),_:1},8,["disabled"])]),_:1},8,["show"]),o(S,{show:_.value,onClose:t[8]||(t[8]=s=>_.value=!1)},{title:n(()=>[i(" Modal Hapus ")]),content:n(()=>[e("p",ye,[i(" Apa ada yakin ingin menghapus data "),e("b",null,m(l(r).client_name),1),i(" ? ")])]),footer:n(()=>[o(X,{disabled:l(r).processing,onClick:B,class:"mr-2"},{default:n(()=>[l(r).processing?(u(),w("span",be)):x("",!0),i(" Hapus")]),_:1},8,["disabled"]),o(T,{disabled:l(r).processing,type:"button",onClick:z},{default:n(()=>[i(" Batal ")]),_:1},8,["disabled"])]),_:1},8,["show"])]),_:1}))}};export{Ee as default};
