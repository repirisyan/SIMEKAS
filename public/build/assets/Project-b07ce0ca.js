import{d as M,C as Y,o as d,e as c,r as Z,K as ee,k as te,T as x,c as U,w as r,f as h,a as s,b as l,g as m,l as I,p as oe,u as t,q as se,h as N,F as L,t as i,x as le,O as ae,n as D}from"./app-95a6612a.js";import{_ as re}from"./AppLayout-f4737193.js";import{a as P}from"./DialogModal-4bd3b204.js";import{_ as H}from"./SecondaryButton-4621b9ec.js";import{_ as B}from"./PrimaryButton-210fb528.js";import{_ as ne,a as ie}from"./Toaster-1e0b2a07.js";import{a as p,_ as w}from"./TextInput-02a2406f.js";import{_}from"./InputLabel-7a347537.js";import{_ as de}from"./TextArea-b56c0ce4.js";import{_ as ce}from"./DangerButton-84467a78.js";import"./_plugin-vue_export-helper-c27b6911.js";const ue=["value"],$={__name:"SelectInput",props:{modelValue:String},emits:["update:modelValue"],setup(C,{expose:v}){const g=M(null);return Y(()=>{g.value.hasAttribute("autofocus")&&g.value.focus()}),v({focus:()=>g.value.focus()}),(y,k)=>(d(),c("select",{ref_key:"input",ref:g,class:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",value:C.modelValue,onInput:k[0]||(k[0]=b=>y.$emit("update:modelValue",b.target.value))},[Z(y.$slots,"option")],40,ue))}},me=s("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Project ",-1),pe={class:"p-12"},_e={class:"card w-auto bg-white dark:bg-gray-800 shadow-xl"},ge={class:"card-body"},fe={class:"card-title flex overflow-x-auto"},he={class:"join w-full sm:justify-end"},ve=s("option",{value:"",selected:""}," Semua Tipe Project ",-1),ye=s("option",{value:"1"},"Custom Project",-1),we=s("option",{value:"2"},"Partnership",-1),ke=s("option",{value:"3"},"Maintenance",-1),be=[ve,ye,we,ke],je=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1),Ve={key:0},xe={key:1},Me=["onClick"],Ce=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 17.25v-.228a4.5 4.5 0 00-.12-1.03l-2.268-9.64a3.375 3.375 0 00-3.285-2.602H7.923a3.375 3.375 0 00-3.285 2.602l-2.268 9.64a4.5 4.5 0 00-.12 1.03v.228m19.5 0a3 3 0 01-3 3H5.25a3 3 0 01-3-3m19.5 0a3 3 0 00-3-3H5.25a3 3 0 00-3 3m16.5 0h.008v.008h-.008v-.008zm-3 0h.008v.008h-.008v-.008z"})],-1),Se=[Ce],De=["onClick"],Pe=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),He=[Pe],$e=["onClick"],Te=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),ze=[Te],Ue={class:"grid grid-cols-1 gap-3 px-8"},Ie={class:"col-span-6 sm:col-span-4"},Ne=s("option",{value:""},"-- Pilih Client --",-1),Le=["value"],Be={class:"col-span-6 sm:col-span-4"},Ae={class:"col-span-6 sm:col-span-4"},Ee=s("option",{value:""}," -- Pilih Tipe Project -- ",-1),Fe=s("option",{value:"1"},"Custom Project",-1),qe=s("option",{value:"2"},"Parthnership",-1),Oe=s("option",{value:"3"},"Maintenance",-1),Re={class:"col-span-6 sm:col-span-4"},Ge={class:"col-span-6 sm:col-span-4"},Ke={class:"grid sm:grid-cols-2 gap-3 grid-cols-1"},Je={class:"col-span-6 sm:col-span-4"},Qe=s("option",{value:""}," -- Pilih Tipe Hosting -- ",-1),We=s("option",{value:"1"},"Hosting Sendiri",-1),Xe=s("option",{value:"2"},"Sewa Hosting",-1),Ye={key:0,class:"col-span-6 sm:col-span-4"},Ze={key:1,class:"grid sm:grid-cols-2 gap-3 grid-cols-1"},et={key:2,class:"col-span-6 sm:col-span-4"},tt={key:0,class:"loading loading-spinner loading-xs"},ot={class:"text-black dark:text-white"},st={key:0,class:"loading loading-spinner loading-xs"},lt={class:"overflow-x-auto"},at={class:"table text-black dark:text-white"},rt=s("th",null,"Tipe Hosting",-1),nt={key:0},it=s("th",null," Nama Domain ",-1),dt=["href"],ct={key:1},ut=s("th",null," Masa Aktif ",-1),mt={key:2},pt=s("th",null,"Harga",-1),_t={key:3},gt=s("th",null,"Status",-1),ft=s("th",null,"Deskripsi Project",-1),St={__name:"Project",props:{clients:Object,projects:Object},setup(C){const v=C,g=M(!1),y=M(!1),k=M(!1),b=ee(),A=te(()=>Object.keys(v.projects.data).length==0);let S=null,T=null;const o=x({client_id:null,project_name:null,project_type:null,description:null,project_worth:null,start_from:null,until:null,project_warranty:null,host_type:null,domain_name:null,contract_from:null,contract_until:null,price:null}),j=x({search:null,project_type:""}),u=x({project_id:null,project_name:null}),z=(f,a=null)=>{g.value=!0,S=f,T=a,f=="Modal Ubah"&&le.get("project/"+a+"/edit").then(e=>{o.client_id=e.data.client_id,o.project_name=e.data.project_name,o.project_type=e.data.project_type,o.description=e.data.description,o.project_worth=e.data.project_worth,o.start_from=e.data.start_from,o.until=e.data.until,o.project_warranty=e.data.project_warranty,o.host_type=e.data.host_type,o.domain_name=e.data.domain_name,o.contract_from=e.data.contract_from,o.contract_until=e.data.contract_until}).catch(e=>{b.props.flash.message=e,setTimeout(()=>{b.props.flash.message=null},2e3)})},E=()=>{g.value=!1,o.reset(),o.clearErrors()},F=()=>{console.log("test"),S=="Modal Tambah"?o.post(route("project.store"),{preserveScroll:!0,onSuccess:()=>{g.value=!1,o.reset(),o.clearErrors(),setTimeout(()=>{b.props.flash.message=null},2e3)}}):o.patch(route("project.update",T),{preserveScroll:!0,onSuccess:()=>{g.value=!1,o.reset(),o.clearErrors(),setTimeout(()=>{b.props.flash.message=null},2e3)}})},q=(f,a)=>{y.value=!0,u.project_id=f,u.project_name=a},O=()=>{y.value=!1,u.reset(),u.clearErrors()},n=x({host_type:null,description:null,domain_name:null,contract_from:null,contract_until:null,price:null,contract_status:null}),R=(f,a,e,V,Q,W,X)=>{k.value=!0,n.host_type=f,n.description=a,n.domain_name=e,n.contract_from=V,n.contract_until=Q,n.price=W,n.contract_status=X},G=()=>{k.value=!1,n.reset()},K=()=>{u.delete(route("project.destroy",u.project_id),{preserveScroll:!0,onSuccess:()=>{y.value=!1,u.reset(),u.clearErrors(),setTimeout(()=>{b.props.flash.message=null},2e3)}})},J=()=>{ae.visit("project",{data:{search:j.search,project_type:j.project_type},replace:!0,preserveState:!0})};return(f,a)=>(d(),U(re,{title:"Project"},{header:r(()=>[me]),default:r(()=>[f.$page.props.flash.message!=null?(d(),U(ne,{key:0,response:f.$page.props.flash.message},null,8,["response"])):h("",!0),s("div",pe,[s("div",_e,[s("div",ge,[s("div",fe,[l(B,{class:"mr-2",onClick:a[0]||(a[0]=e=>z("Modal Tambah"))},{default:r(()=>[m("TambahÂ + ")]),_:1}),s("div",he,[s("div",null,[s("div",null,[I(s("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>t(j).search=e),class:"input input-bordered join-item w-auto",placeholder:"Cari Nama Project"},null,512),[[oe,t(j).search,void 0,{lazy:!0}]])])]),I(s("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>t(j).project_type=e),class:"select select-bordered join-item w-auto sm:w-32"},be,512),[[se,t(j).project_type,void 0,{lazy:!0}]]),s("div",{class:"indicator w-auto"},[s("button",{onClick:J,class:"btn join-item"},[m(" Cari "),je])])])]),l(ie,{theads:["Client","Nama Project","Tipe Project","Tanggal","Harga Project","Garansi","Status","Aksi"],empty:A.value,current_page:v.projects.current_page,next_page:v.projects.next_page_url,prev_page:f.route("project.index")+"?page="+(v.projects.current_page-1)},{content:r(()=>[(d(!0),c(L,null,N(v.projects.data,e=>(d(),c("tr",{key:e.id,class:"hover"},[s("td",null,i(e.client.name),1),s("td",null,i(e.project_name),1),s("td",null,i(e.project_type=="1"?"Custom Project":e.project_type=="2"?"Partnership":"Maintenance"),1),s("td",null,i(new Date(e.start_from).toLocaleDateString("id-ID"))+" - "+i(new Date(e.until).toLocaleDateString("id-ID")),1),s("td",null,"Rp. "+i(new Intl.NumberFormat("id-ID").format(e.project_worth)),1),s("td",null,i(e.warranty??"-"),1),e.project_type=="2"?(d(),c("td",Ve,[s("div",{class:D(["badge gap-2",e.project_status==!0?"badge-success":"badge-error"])},i(e.project_status==!0?"Bermitra":"Expire"),3)])):(d(),c("td",xe,[s("div",{class:D(["badge gap-2",e.project_status==!0?"badge-success":"badge-error"])},i(e.project_status==!0?"Selesai":"Proses Pengerjaan"),3)])),s("td",null,[s("button",{class:D(["mr-3",e.contract_status==!1?"text-error":"text-info"]),onClick:V=>R(e.host_type,e.description,e.domain_name,e.contract_from,e.contract_until,e.price,e.contract_status)},Se,10,Me),s("button",{class:"mr-3 text-warning",onClick:V=>z("Modal Ubah",e.id)},He,8,De),s("button",{class:"text-error",onClick:V=>q(e.id,e.project_name)},ze,8,$e)])]))),128))]),_:1},8,["empty","current_page","next_page","prev_page"])])])]),l(P,{show:g.value,onClose:a[15]||(a[15]=e=>g.value=!1)},{title:r(()=>[m(i(t(S)),1)]),content:r(()=>[s("div",Ue,[s("div",Ie,[l(_,{for:"client_id",value:"Nama Client"}),l($,{id:"client_id",modelValue:t(o).client_id,"onUpdate:modelValue":a[3]||(a[3]=e=>t(o).client_id=e),modelModifiers:{lazy:!0},class:"mt-1 block w-full",disabled:t(o).processing},{option:r(()=>[Ne,(d(!0),c(L,null,N(v.clients,e=>(d(),c("option",{key:e.id,value:e.id},i(e.name),9,Le))),128))]),_:1},8,["modelValue","disabled"]),l(p,{class:"mt-2",message:t(o).errors.client_id},null,8,["message"])]),s("div",Be,[l(_,{for:"project_name",value:"Nama Project"}),l(w,{id:"project_name",modelValue:t(o).project_name,"onUpdate:modelValue":a[4]||(a[4]=e=>t(o).project_name=e),modelModifiers:{lazy:!0},type:"text",class:"mt-1 block w-full",autocomplete:"project_name",readonly:t(o).processing},null,8,["modelValue","readonly"]),l(p,{class:"mt-2",message:t(o).errors.project_name},null,8,["message"])]),s("div",Ae,[l(_,{for:"project_type",value:"Tipe Project"}),l($,{id:"project_type",modelValue:t(o).project_type,"onUpdate:modelValue":a[5]||(a[5]=e=>t(o).project_type=e),modelModifiers:{lazy:!0},class:"mt-1 block w-full",disabled:t(o).processing},{option:r(()=>[Ee,Fe,qe,Oe]),_:1},8,["modelValue","disabled"]),l(p,{class:"mt-2",message:t(o).errors.project_type},null,8,["message"])]),s("div",Re,[l(_,{for:"description",value:"Deskripsi"}),l(de,{id:"description",modelValue:t(o).description,"onUpdate:modelValue":a[6]||(a[6]=e=>t(o).description=e),modelModifiers:{lazy:!0},readonly:t(o).processing,class:"mt-1 block w-full"},null,8,["modelValue","readonly"]),l(p,{class:"mt-2",message:t(o).errors.description},null,8,["message"])]),s("div",Ge,[l(_,{for:"project_worth",value:"Harga Project (Rp."+new Intl.NumberFormat("id-ID").format(t(o).project_worth)+")"},null,8,["value"]),l(w,{id:"project_worth",modelValue:t(o).project_worth,"onUpdate:modelValue":a[7]||(a[7]=e=>t(o).project_worth=e),modelModifiers:{lazy:!0},type:"number",min:"0",class:"mt-1 block w-full",autocomplete:"project_worth",readonly:t(o).processing},null,8,["modelValue","readonly"]),l(p,{class:"mt-2",message:t(o).errors.project_worth},null,8,["message"])]),s("div",Ke,[s("div",null,[l(_,{for:"start_from",value:"Tanggal Mulai"}),l(w,{id:"start_from",modelValue:t(o).start_from,"onUpdate:modelValue":a[8]||(a[8]=e=>t(o).start_from=e),modelModifiers:{lazy:!0},type:"date",class:"mt-1 block w-full",autocomplete:"start_from",readonly:t(o).processing},null,8,["modelValue","readonly"]),l(p,{class:"mt-2",message:t(o).errors.start_from},null,8,["message"])]),s("div",null,[l(_,{for:"until",value:"Tanggal Selesai"}),l(w,{id:"until",modelValue:t(o).until,"onUpdate:modelValue":a[9]||(a[9]=e=>t(o).until=e),modelModifiers:{lazy:!0},type:"date",class:"mt-1 block w-full",autocomplete:"until",readonly:t(o).processing},null,8,["modelValue","readonly"]),l(p,{class:"mt-2",message:t(o).errors.until},null,8,["message"])])]),s("div",Je,[l(_,{for:"host_type",value:"Tipe Hosting"}),l($,{id:"host_type",modelValue:t(o).host_type,"onUpdate:modelValue":a[10]||(a[10]=e=>t(o).host_type=e),modelModifiers:{lazy:!0},class:"mt-1 block w-full",disabled:t(o).processing},{option:r(()=>[Qe,We,Xe]),_:1},8,["modelValue","disabled"]),l(p,{class:"mt-2",message:t(o).errors.host_type},null,8,["message"])]),t(o).host_type=="2"?(d(),c("div",Ye,[l(_,{for:"domain_name",value:"Nama Domain"}),l(w,{id:"domain_name",modelValue:t(o).domain_name,"onUpdate:modelValue":a[11]||(a[11]=e=>t(o).domain_name=e),modelModifiers:{lazy:!0},type:"text",class:"mt-1 block w-full",autocomplete:"domain_name",required:"",readonly:t(o).processing},null,8,["modelValue","readonly"]),l(p,{class:"mt-2",message:t(o).errors.domain_name},null,8,["message"])])):h("",!0),t(o).host_type=="2"?(d(),c("div",Ze,[s("div",null,[l(_,{for:"contract_from",value:"Contract Mulai Tanggal"}),l(w,{id:"contract_from",modelValue:t(o).contract_from,"onUpdate:modelValue":a[12]||(a[12]=e=>t(o).contract_from=e),modelModifiers:{lazy:!0},type:"date",class:"mt-1 block w-full",autocomplete:"contract_from",required:"",readonly:t(o).processing},null,8,["modelValue","readonly"]),l(p,{class:"mt-2",message:t(o).errors.contract_from},null,8,["message"])]),s("div",null,[l(_,{for:"contract_until",value:"Sampai"}),l(w,{id:"contract_until",modelValue:t(o).contract_until,"onUpdate:modelValue":a[13]||(a[13]=e=>t(o).contract_until=e),modelModifiers:{lazy:!0},type:"date",class:"mt-1 block w-full",autocomplete:"contract_until",required:"",readonly:t(o).processing},null,8,["modelValue","readonly"]),l(p,{class:"mt-2",message:t(o).errors.contract_until},null,8,["message"])])])):h("",!0),t(o).host_type=="2"?(d(),c("div",et,[l(_,{for:"price",value:"Harga Hosting (Rp."+new Intl.NumberFormat("id-ID").format(t(o).price)+")"},null,8,["value"]),l(w,{id:"price",modelValue:t(o).price,"onUpdate:modelValue":a[14]||(a[14]=e=>t(o).price=e),modelModifiers:{lazy:!0},type:"number",min:"0",class:"mt-1 block w-full",autocomplete:"price",required:"",readonly:t(o).processing},null,8,["modelValue","readonly"]),l(p,{class:"mt-2",message:t(o).errors.price},null,8,["message"])])):h("",!0)])]),footer:r(()=>[l(B,{disabled:t(o).processing,onClick:F,class:"mr-2"},{default:r(()=>[t(o).processing?(d(),c("span",tt)):h("",!0),m(" Simpan")]),_:1},8,["disabled"]),l(H,{disabled:t(o).processing,type:"button",onClick:E},{default:r(()=>[m(" Tutup ")]),_:1},8,["disabled"])]),_:1},8,["show"]),l(P,{show:y.value,onClose:a[16]||(a[16]=e=>y.value=!1)},{title:r(()=>[m(" Modal Hapus ")]),content:r(()=>[s("p",ot,[m(" Apa ada yakin ingin menghapus data "),s("b",null,i(t(u).project_name),1),m(" ? ")])]),footer:r(()=>[l(ce,{disabled:t(u).processing,onClick:K,class:"mr-2"},{default:r(()=>[t(u).processing?(d(),c("span",st)):h("",!0),m(" Hapus")]),_:1},8,["disabled"]),l(H,{disabled:t(u).processing,type:"button",onClick:O},{default:r(()=>[m(" Batal ")]),_:1},8,["disabled"])]),_:1},8,["show"]),l(P,{show:k.value,onClose:a[17]||(a[17]=e=>k.value=!1)},{title:r(()=>[m(" Modal Detail ")]),content:r(()=>[s("div",lt,[s("table",at,[s("tr",null,[rt,s("td",null,i(t(n).host_type=="1"?"Hosting Sendiri":"Sewa Hosting"),1)]),t(n).host_type=="2"?(d(),c("tr",nt,[it,s("td",null,[s("a",{class:"hover:text-blue-500",target:"_blank",href:"https://"+t(n).domain_name},i(t(n).domain_name),9,dt)])])):h("",!0),t(n).host_type=="2"?(d(),c("tr",ct,[ut,s("td",null,i(new Date(t(n).contract_from).toLocaleDateString("id-ID"))+" - "+i(new Date(t(n).contract_until).toLocaleDateString("id-ID")),1)])):h("",!0),t(n).host_type=="2"?(d(),c("tr",mt,[pt,s("td",null,"Rp. "+i(new Intl.NumberFormat("id-ID").format(t(n).price)),1)])):h("",!0),t(n).host_type=="2"?(d(),c("tr",_t,[gt,s("td",null,i(t(n).contract_status?"Aktif":"Expire"),1)])):h("",!0),s("tr",null,[ft,s("td",null,i(t(n).description),1)])])])]),footer:r(()=>[l(H,{type:"button",onClick:G},{default:r(()=>[m(" Tutup ")]),_:1})]),_:1},8,["show"])]),_:1}))}};export{St as default};
