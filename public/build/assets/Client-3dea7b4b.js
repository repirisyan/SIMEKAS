import{d as M,k as O,K as D,T as k,o as u,c as $,w as n,f as x,a,b as o,g as i,l as P,p as W,u as l,e as w,h as K,F as q,t as m,x as G,O as I}from"./app-95a6612a.js";import{_ as J}from"./AppLayout-f4737193.js";import{a as A}from"./DialogModal-4bd3b204.js";import{_ as S}from"./SecondaryButton-4621b9ec.js";import{_ as T}from"./PrimaryButton-210fb528.js";import{_ as Q,a as R}from"./Toaster-1e0b2a07.js";import{_ as f,a as h}from"./TextInput-02a2406f.js";import{_ as g}from"./InputLabel-7a347537.js";import{_ as X}from"./DangerButton-84467a78.js";import"./_plugin-vue_export-helper-c27b6911.js";const Y=a("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Client ",-1),Z={class:"p-12"},ee={class:"card w-auto bg-white dark:bg-gray-800 shadow-xl"},ae={class:"card-body"},se={class:"card-title flex overflow-x-auto"},le={class:"join w-full sm:justify-end"},te=a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1),oe=["href"],ne=["href"],re=["onClick"],ie=a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),de=[ie],me=["onClick"],ce=a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),ue=[ce],pe={class:"grid grid-cols-1 gap-3 px-8"},_e={class:"col-span-6 sm:col-span-4"},fe={class:"col-span-6 sm:col-span-4"},he={class:"col-span-6 sm:col-span-4"},ge={class:"col-span-6 sm:col-span-4"},ve={class:"col-span-6 sm:col-span-4"},we={key:0,class:"loading loading-spinner loading-xs"},ye={class:"text-black dark:text-white"},be={key:0,class:"loading loading-spinner loading-xs"},Ee={__name:"Client",props:{clients:Object},setup(j){const p=j,c=M(!1),_=M(!1),E=O(()=>Object.keys(p.clients.data).length==0),v=D();let y=null,C=null;const e=k({name:null,company_name:null,client_email:null,whatsapp_number:null,address:null}),b=k({search:null}),r=k({client_id:"",client_name:""}),V=(d,t=null)=>{c.value=!0,y=d,C=t,d=="Modal Ubah"&&G.get("client/"+t+"/edit").then(s=>{e.name=s.data.name,e.company_name=s.data.company_name,e.client_email=s.data.client_email,e.whatsapp_number=s.data.whatsapp_number,e.address=s.data.address}).catch(s=>{v.props.flash.message=s})},H=()=>{c.value=!1,e.reset(),e.clearErrors()},N=()=>{y=="Modal Tambah"?e.post(route("client.store"),{preserveScroll:!0,onSuccess:()=>{c.value=!1,e.reset(),e.clearErrors(),setTimeout(()=>{v.props.flash.message=null},2e3)}}):e.patch(route("client.update",C),{preserveScroll:!0,onSuccess:()=>{c.value=!1,e.reset(),e.clearErrors(),setTimeout(()=>{v.props.flash.message=null},2e3)}})},z=(d,t)=>{_.value=!0,r.client_id=d,r.client_name=t},B=()=>{_.value=!1,r.reset(),r.clearErrors()},U=()=>{r.delete(route("client.destroy",r.client_id),{preserveScroll:!0,onSuccess:()=>{_.value=!1,r.reset(),r.clearErrors(),setTimeout(()=>{v.props.flash.message=null},2e3)}})},L=()=>{I.visit("client",{data:{search:b.search},replace:!0,preserveState:!0,only:["clients"]})};return(d,t)=>(u(),$(J,{title:"Client"},{header:n(()=>[Y]),default:n(()=>[d.$page.props.flash.message!=null?(u(),$(Q,{key:0,response:d.$page.props.flash.message},null,8,["response"])):x("",!0),a("div",Z,[a("div",ee,[a("div",ae,[a("div",se,[o(T,{class:"mr-2",onClick:t[0]||(t[0]=s=>V("Modal Tambah"))},{default:n(()=>[i("TambahÂ + ")]),_:1}),a("div",le,[a("div",null,[a("div",null,[P(a("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>l(b).search=s),class:"input input-bordered join-item w-42",placeholder:"Cari Nama Client"},null,512),[[W,l(b).search,void 0,{lazy:!0}]])])]),a("div",{class:"indicator"},[a("button",{onClick:L,class:"btn join-item"},[i(" Cari "),te])])])]),o(R,{theads:["Nama","Nama Perusahaan","Email","WhatsApp","Alamat","Aksi"],empty:E.value,current_page:p.clients.current_page,next_page:p.clients.next_page_url,prev_page:d.route("client.index")+"?page="+(p.clients.current_page-1)},{content:n(()=>[(u(!0),w(q,null,K(p.clients.data,s=>(u(),w("tr",{key:s.id,class:"hover"},[a("td",null,m(s.name),1),a("td",null,m(s.company_name),1),a("td",null,[a("a",{class:"hover:text-blue-500",href:"mailto:"+s.client_email},m(s.client_email),9,oe)]),a("td",null,[a("a",{class:"hover:text-green-500",href:"https://wa.me/"+s.whatsapp_number},m(s.whatsapp_number),9,ne)]),a("td",null,m(s.address),1),a("td",null,[a("button",{class:"mr-3 text-warning",onClick:F=>V("Modal Ubah",s.id)},de,8,re),a("button",{class:"text-error",onClick:F=>z(s.id,s.name)},ue,8,me)])]))),128))]),_:1},8,["empty","current_page","next_page","prev_page"])])])]),o(A,{show:c.value,onClose:t[7]||(t[7]=s=>c.value=!1)},{title:n(()=>[i(m(l(y)),1)]),content:n(()=>[a("div",pe,[a("div",_e,[o(g,{for:"name",value:"Nama"}),o(f,{id:"name",modelValue:l(e).name,"onUpdate:modelValue":t[2]||(t[2]=s=>l(e).name=s),modelModifiers:{lazy:!0},type:"text",class:"mt-1 block w-full",autocomplete:"name",readonly:l(e).processing},null,8,["modelValue","readonly"]),o(h,{class:"mt-2",message:l(e).errors.name},null,8,["message"])]),a("div",fe,[o(g,{for:"company_name",value:"Nama Perusahaan"}),o(f,{id:"company_name",modelValue:l(e).company_name,"onUpdate:modelValue":t[3]||(t[3]=s=>l(e).company_name=s),modelModifiers:{lazy:!0},type:"text",class:"mt-1 block w-full",autocomplete:"company_name",readonly:l(e).processing},null,8,["modelValue","readonly"]),o(h,{class:"mt-2",message:l(e).errors.company_name},null,8,["message"])]),a("div",he,[o(g,{for:"email",value:"E-mail"}),o(f,{id:"email",modelValue:l(e).client_email,"onUpdate:modelValue":t[4]||(t[4]=s=>l(e).client_email=s),modelModifiers:{lazy:!0},type:"text",class:"mt-1 block w-full",autocomplete:"email",readonly:l(e).processing},null,8,["modelValue","readonly"]),o(h,{class:"mt-2",message:l(e).errors.client_email},null,8,["message"])]),a("div",ge,[o(g,{for:"whatsapp_number",value:"WhatsApp"}),o(f,{id:"whatsapp_number",modelValue:l(e).whatsapp_number,"onUpdate:modelValue":t[5]||(t[5]=s=>l(e).whatsapp_number=s),modelModifiers:{lazy:!0},type:"text",class:"mt-1 block w-full",autocomplete:"whatsapp_number",readonly:l(e).processing},null,8,["modelValue","readonly"]),o(h,{class:"mt-2",message:l(e).errors.whatsapp_number},null,8,["message"])]),a("div",ve,[o(g,{for:"address",value:"Alamat"}),o(f,{id:"address",modelValue:l(e).address,"onUpdate:modelValue":t[6]||(t[6]=s=>l(e).address=s),modelModifiers:{lazy:!0},type:"text",class:"mt-1 block w-full",autocomplete:"address",readonly:l(e).processing},null,8,["modelValue","readonly"]),o(h,{class:"mt-2",message:l(e).errors.address},null,8,["message"])])])]),footer:n(()=>[o(T,{disabled:l(e).processing,onClick:N,class:"mr-2"},{default:n(()=>[l(e).processing?(u(),w("span",we)):x("",!0),i(" Simpan")]),_:1},8,["disabled"]),o(S,{type:"button",disabled:l(e).processing,onClick:H},{default:n(()=>[i(" Tutup ")]),_:1},8,["disabled"])]),_:1},8,["show"]),o(A,{show:_.value,onClose:t[8]||(t[8]=s=>_.value=!1)},{title:n(()=>[i(" Modal Hapus ")]),content:n(()=>[a("p",ye,[i(" Apa ada yakin ingin menghapus data "),a("b",null,m(l(r).client_name),1),i(" ? ")])]),footer:n(()=>[o(X,{disabled:l(r).processing,onClick:U,class:"mr-2"},{default:n(()=>[l(r).processing?(u(),w("span",be)):x("",!0),i(" Hapus")]),_:1},8,["disabled"]),o(S,{disabled:l(r).processing,type:"button",onClick:B},{default:n(()=>[i(" Batal ")]),_:1},8,["disabled"])]),_:1},8,["show"])]),_:1}))}};export{Ee as default};
